# SkinCake 更新日誌

所有重要的變更都會記錄在這個文件中。

本專案遵循 [語義化版本](https://semver.org/lang/zh-TW/)。

## [2.2.0] - 2025-01-18

### 🎯 文章頁面完整修復

#### 樣式與佈局
- 完全匹配線上版本的視覺設計
- 修復圖片位置：頂部大圖 (400px 高度) + 白色內容卡片
- 統一背景色為 `#FFF9FA` (淡粉色)
- 文章容器寬度限制為 800px，相關文章區域為 6xl

#### 閱讀體驗優化
- 行高調整為 1.8 提升閱讀舒適度
- 主要內容字體大小設為 1.1em
- 段落間距設為 1.5rem
- 標題樣式優化，加入適當的上下間距
- 連結顏色與網站主題一致

#### 功能改進
- 修復 Facebook 分享功能（加入 Open Graph 標籤）
- 將 Twitter 分享改為 Threads（更符合台灣用戶習慣）
- 實現隨機相關文章推薦（Fisher-Yates 洗牌演算法）
- 加入「換一批」按鈕手動重新整理相關文章

### 🚀 SEO 大幅優化

#### 搜尋引擎優化
- **動態 Sitemap**：整合 next-sitemap，自動生成網站地圖
- **Server Sitemap**：動態路由從 WordPress 獲取所有文章和分類
- **結構化數據**：完整的 Article Schema.org JSON-LD 標記
- **Canonical URLs**：避免重複內容問題
- **Robots 設定**：優化爬蟲指令，最大化索引效果

#### 自動化與預渲染
- **GitHub Actions**：每日自動檢查新文章並重建
- **ISR 策略**：前 20 篇文章預渲染，revalidate 設為 1 小時
- **API 優化**：支援分頁查詢，新增 modified 欄位追蹤更新

#### 內部連結優化
- **麵包屑導航**：支援結構化數據的 BreadcrumbList
- **分類連結**：文章頁顯示分類標籤並可點擊
- **相關文章**：底部推薦 6 篇相關內容

### 🎨 效能與使用者體驗

#### 圖片優化
- 全站改用 Next.js Image 元件
- 所有圖片加入適當的 alt 文字
- 設定 sizes 屬性優化不同裝置載入
- Carousel 從背景圖改為 Image 元件
- 相關文章圖片加入 hover 縮放效果

#### 載入效能
- 字體載入策略：`display: swap` 防止 FOIT
- 預連接關鍵資源：WordPress API、Google Fonts
- 預載主要 Logo 圖片
- DNS 預取優化第三方資源

#### Metadata 增強
- 完整的 Open Graph 設定
- Twitter Card 支援
- 多語言設定 (zh-TW)
- 網站驗證標籤預留位置
- 完整的 robots 和 googleBot 指令

### 🐛 已知問題
- 分類頁面使用動態參數導致部分警告（不影響功能）
- 隨機文章功能在建置時顯示動態使用警告（預期行為）

### 📦 依賴更新
- 新增 `next-sitemap` ^4.2.3
- Next.js 和相關套件保持最新穩定版本

## [2.1.0] - 2025-01-17

### ✨ 首頁修復與優化
- **修復蛋糕報報區塊** - 解決重複標題顯示問題
- **修復偷偷推薦給你區塊** - 解決重複標題顯示問題  
- **恢復粉色背景** - 新增淡粉紅色背景 (`bg-pink-50`) 恢復原始設計風格
- **優化區塊間距** - 調整各區塊之間的視覺間距
- **統一樣式風格** - 完成首頁所有功能區塊的樣式統一

### 📌 待修復項目
- 文章頁樣式與功能修正
- 分類頁樣式與功能修正
- 搜尋頁樣式與功能修正

---

## [2.0.0] - 2025-01-12

### 🎉 重大里程碑 - 完全重構

#### 🚀 全新技術架構
- **Next.js 14 + App Router** - 從舊版 SPA 完全重寫
- **TypeScript 支援** - 100% 類型安全
- **Tailwind CSS 3** - 現代化 CSS 框架
- **SSG + ISR** - 混合渲染策略

#### ✨ 核心功能實現
- **智能文章系統** - WordPress API 深度整合
- **進階分類篩選** - 多種排序方式
- **雙視圖模式** - 網格/列表視圖切換
- **全文搜尋** - 即時搜尋功能
- **響應式設計** - 完美支援所有裝置

#### 🎨 用戶界面革新
- **韓系美學** - 清新粉色主題
- **模組化組件** - React 組件庫
- **SEO 優化** - 動態元數據
- **性能優化** - 圖片優化、代碼分割

#### 🔧 技術債清理
**移除舊系統:**
- ❌ jQuery 依賴
- ❌ 舊版 SPA 架構
- ❌ 手寫 CSS 系統

**現代化替代:**
- ✅ React 18 Hooks
- ✅ Next.js 14
- ✅ Tailwind CSS 3

---

## V1 版本歷史摘要

### [1.5.4] - 2024-12-19
- 手機版 SkinCake 專訪區塊重新設計
- 改用原生滾動支援
- 移除 Instagram 嵌入依賴

### [1.5.0] - 2024-05-19
- 完成技術債第四階段
- 新版分類頁整合至 SPA
- 新增品牌示範頁面

### [1.4.0] - 2024-04-XX
- SPA 架構優化第一階段
- 創建分類數據更新腳本
- 性能優化改進

### [1.3.0] - 2024-XX-XX
- 實施 SPA 文章路由
- 修復搜尋功能
- SEO 優化

[查看完整 V1 版本歷史](./archive/v1-legacy/CHANGELOG-v1.md)

---

## 版本命名規則

遵循語意化版本控制：
- **主版本號 (X.0.0)** - 重大架構變更
- **次版本號 (0.X.0)** - 新增功能
- **修訂號 (0.0.X)** - 問題修復

## 相關連結

- [GitHub Repository](https://github.com/JoeyVIP/SkinCake-GCP-2025)
- [線上網站](https://skincake.tw) 